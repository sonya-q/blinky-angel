<!DOCTYPE html>
<html>
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <!-- Header -->
  <div class="header">
    <img src="../assets/Happy.png" class="emoji" alt="Blinky Angel">
    <h1>Blinky Angel</h1>
  </div>
  
  <!-- Tabs -->
  <div class="tabs">
    <button class="tab active" data-tab="blink">ğŸ‘ï¸ Blink Monitor</button>
    <button class="tab" data-tab="timer">â° 20-20-20</button>
  </div>
  
  <!-- Tab 1: Blink Detection -->
  <div class="tab-content active" id="blink-tab">
    <div class="stat">
      <div class="stat-label">Current Blink Rate</div>
      <div class="stat-value" id="blink-rate">-- blinks/min</div>
    </div>
    
    <div class="stat">
      <div class="stat-label">Total Blinks</div>
      <div class="stat-value" id="total-blinks">--</div>
    </div>
    
    <div class="stat">
      <div class="stat-label">Time Since Last Blink</div>
      <div class="stat-value" id="time-since-blink">--</div>
    </div>
    
    <!-- Settings Section -->
    <div class="settings-section">
      <div class="settings-title">âš™ï¸ Reminder Mode</div>
      
      <div class="mode-buttons">
        <div class="mode-btn" id="mode-strict" data-mode="strict">
          ğŸš€ Strict
        </div>
        <div class="mode-btn active" id="mode-balanced" data-mode="balanced">
          âš–ï¸ Balanced
        </div>
        <div class="mode-btn" id="mode-gentle" data-mode="gentle">
          ğŸŒ¸ Gentle
        </div>
      </div>
      
      <div class="mode-description" id="mode-desc">
        <strong>Balanced:</strong> Reminder every 45s if you blink less than 10 times/min or haven't blinked in 8s. Good for most users.
      </div>
      
      <div class="toggle-container">
        <span class="toggle-label">Show Video Debug</span>
        <div class="toggle-switch active" id="video-toggle">
          <div class="toggle-slider"></div>
        </div>
      </div>
    </div>
    
    <div class="info">
      ğŸ’¡ Healthy rate: 15-20 blinks/min<br>
      Blink detection active on all pages!
    </div>
  </div>
  
  <!-- Tab 2: 20-20-20 Timer -->
  <div class="tab-content" id="timer-tab">
    <div class="timer-status">
      <div class="big-emoji" id="timer-emoji">â¸ï¸</div>
      <div class="status-text" id="timer-status">Ready to start</div>
      <!-- <div class="timer-display" id="timer-display">--:--</div> -->
    </div>
    
    <button id="startTimerButton">â–¶ï¸ Start 20-20-20 Timer</button>
    <button id="stopTimerButton" style="display: none;">â¹ï¸ Stop Timer</button>
    
    <div class="info" style="margin-top: 20px;">
      ğŸ“‹ <strong>The 20-20-20 Rule:</strong><br>
      Every 20 minutes, look at something 20 feet away for 20 seconds.<br><br>
      ğŸ’¡ This reduces eye strain and keeps your eyes healthy!
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>